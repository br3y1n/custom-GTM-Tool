<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>custom GTM - Tool</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <header>
        <nav>
            <div class="nav-wrapper blue-grey darken-4">

                <a class="left nav-item nav-tab" data-target="#home">
                    <i class="material-icons left">build</i>
                    <b>Custom GTM</b>
                </a>

                <ul class="right hide-on-med-and-down">
                    <li class="nav-tab" data-target="#newCustom"><a><b>new custom GTM</b></a></li>
                    <li class="nav-tab" data-target="#updateCustom"><a><b>update custom GTM</b></a></li>
                </ul>

                <a data-target="mobile-navbar" class="sidenav-trigger right nav-item">
                    <i class="material-icons">menu</i>
                </a>

                <ul id="mobile-navbar" class="right sidenav">
                    <li class="nav-tab" data-target="#newCustom"><a><b>new custom GTM</b></a></li>
                    <li class="nav-tab" data-target="#updateCustom"><a><b>update custom GTM</b></a></li>
                </ul>
            </div>
        </nav>
    </header>


    <main>

        <div class="container card-panel center tab-item active" id="home">
            <h3>Welcome to custom GTM Tool</h3>
            <p>
                <i>
                    This tool allows you extract the objects to send (push) to Google Tag Manager, from Excel template
                    generated by Performics and convert it into a syntax allowed by JS.
                </i>
            </p>
            <br>
            <img src="imgs/preview.png" class="responsive-img initImage" alt="preview">
        </div>

        <div class="container card-panel center tab-item" id="newCustom">
            <h3>New custom GTM</h3>
            <div class="row">
                <p>
                    <i>
                        Select a file with the extension .xlsx or .xls, this file must be the GTM template for it to be
                        processed.
                    </i>
                </p>
                <br>
                <div class="file-field input-file">
                    <button class="btn red darken-2 left xlsxFile" data-processButton="#processXlsxNew"
                        data-xlsxName="#xlsxNameNew">
                        <i class="material-icons">attach_file</i>
                    </button>

                    <div class="file-path-wrapper">
                        <input class="fileName" id="xlsxNameNew" type="text" placeholder="File (.xls/.xlsx)" disabled>
                    </div>
                </div>
                <br>
                <button id="processXlsxNew" class="processXlsx btn red darken-2 active"
                    data-processCode="#processCodeNew" data-xlsxName="#xlsxNameNew" disabled>
                    Process file
                    <i class="material-icons right">settings</i>
                </button>
            </div>

            <div id="processCodeNew" class="xlsxCodeProcessed grey lighten-2">
                <div class=" notifications">
                    <div class="logo blue lighten-2 valign-wrapper">
                        <i class="material-icons center">info_outline</i>
                    </div>

                    <div class="content blue lighten-4">
                        <p><b>Assignment of tags to the "pushes".</b></p>
                        <p>
                            <i>
                                <b>Note:</b>
                                if a tag has more than 1 push, it is because these "pushes" were repeated in the GTM
                                template, the data presentation format is as follows: <b>tag name = [</b> <b
                                    class="sheetName">sheet name (</b> pushes <b class="sheetName">)</b><b>]</b>
                            </i>
                        </p>
                        <ul class="assignment"></ul>

                        <p>
                            <i>
                                To use these tags you must add the customGTM class and the tag_x class to an html tag
                                or add the customGTM.runTag(tag_x) code in javascript (where x is the number of the tag
                                you want to chain as an event), for example:
                            </i>
                        </p>
                        <p><b>HTML</b>
                            <code><span class="htmlSymbol">&lt</span><span class="htmlTag">button</span> <span class="htmlAttr">class</span><span class="htmlSymbol">=</span><span class="htmlClass">"customGTM tag_1"</span><span class="htmlSymbol">&gt</span>This is tag_1<span class="htmlSymbol">&lt/</span><span class="htmlTag">button</span><span class="htmlSymbol">&gt</span></code>
                        </p>
                        <p><b>JS</b>
                            <code><span class="JSvar">customGTM</span><span class="JSsymbol">.</span><span class="JSfunction">runTag</span><span class="JSsymbol">(</span><span class="JSvar">tag_1</span><span class="JSsymbol">)</span></code>
                        </p>
                    </div>
                </div>

                <p><b>Copy this at the beginning of your JS code:</b></p>
                <textarea class="code" readonly></textarea>
            </div>
        </div>


        <div class="container card-panel center tab-item" id="updateCustom">

            <!--
            <h3>Update custom GTM</h3>
            <p>
                <i>
                    Copy the current custom GTM code here, (from the words "const customGTM = new...")
                </i>
            </p>
            <br>

            <div class="row">
                <p><b>Current code:</b></p>
                <textarea id="codeToEvaluate"></textarea>
                <button id="processCode" class="btn red darken-2 active" disabled>
                    Process code
                    <i class="material-icons right">settings</i>
                </button>
            </div>

            <div class="row">
                <p><b>New GTM template:</b></p>
                <p>
                    <i>
                        Select a file with the extension .xlsx or .xls, this file must be the GTM template for it to be
                        processed.
                    </i>
                </p>
                <div class="file-field input-file">
                    <button class="btn red darken-2 left" id="xlsxFileUpdate">
                        <i class="material-icons">attach_file</i>
                    </button>

                    <div class="file-path-wrapper">
                        <input class="fileName" id="xlsxNameUpdate" type="text" placeholder="File (.xls/.xlsx)"
                            disabled>
                    </div>
                </div>
                <br>

                <button id="processFile" class="btn red darken-2 active" disabled>
                    Process file
                    <i class="material-icons right">settings</i>
                </button>
            </div>


            <div class="row">
                <p><b>GTM template data, code:</b></p>
                <textarea id="templateCode" readonly></textarea>
            </div>


            <div class="card-tabs">
                <ul class="tabs  tabs-fixed-width grey lighten-3">
                    <li class="tab"><a class="active" href="#replaceID">Replace/preserve ID</a></li>
                    <li class="tab"><a class="active" href="#replace">Replace</a></li>
                    <li class="tab"><a href="#update">Update</a></li>
                </ul>
            </div>

            <div class="row">

                <div id="replaceID" class="col s12">
                    <p><b>Copy this code:</b></p>
                    <textarea id="codeToCopy" readonly></textarea>

                    <div id="deleteTags">
                        delete tags
                    </div>

                    <div id="newTags">
                        new tags
                    </div>
                </div>

                <div id="replace" class="col s12">
                    <p><b>Copy this code:</b></p>
                    <textarea id="codeToCopy" readonly></textarea>

                    <div id="deleteTags">
                        delete tags
                    </div>

                    <div id="newTags">
                        new tags
                    </div>
                </div>

                <div id="update" class="col s12">
                    <p><b>Copy this code:</b></p>
                    <textarea id="codeToCopy" readonly></textarea>

                    <div id="updateTags">
                        new tags
                    </div>
                </div>
            </div>-->
        </div>
    </main>



    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script type="text/javascript" src="js/xlsx.full.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
</body>

</html>